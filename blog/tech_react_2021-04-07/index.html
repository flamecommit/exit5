<!doctype html>
<html data-n-head-ssr lang="ko" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22ko%22%7D%7D">
  <head>
    <title>SIMPLIZM | [React] State 끌어올리기</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="description" content=""><meta data-n-head="ssr" name="keyword" content="프론트엔드, 프론트엔드개발자, 웹퍼블리셔, SIMPLIZM, 심플리즘"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="description" name="description" content="[object Object]"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="SIMPLIZM | [React] State 끌어올리기"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="[object Object]"><meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="null"><meta data-n-head="ssr" data-hid="twitter:image:alt" name="twitter:image:alt" content="SIMPLIZM | [React] State 끌어올리기"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="SIMPLIZM | [React] State 끌어올리기"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="[object Object]"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="null"><meta data-n-head="ssr" data-hid="og:image:secure_url" property="og:image:secure_url" content="null"><meta data-n-head="ssr" data-hid="og:image:alt" property="og:image:alt" content="SIMPLIZM | [React] State 끌어올리기"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/0b41bc5.js" as="script"><link rel="preload" href="/_nuxt/0bb7f8f.js" as="script"><link rel="preload" href="/_nuxt/472c0a8.js" as="script"><link rel="preload" href="/_nuxt/3a27982.js" as="script"><link rel="preload" href="/_nuxt/4f613c0.js" as="script"><style data-vue-ssr-id="a74b3f6e:0 a74b3f6e:1 a74b3f6e:2 45aab620:0 517a8dd7:0 fa7ff0ca:0 5d81831b:0 7f88901c:0 200fff9a:0 ab54965e:0 8332076c:0 2b2e1b38:0">@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);::-moz-selection{background:#fff;color:#000}::selection{background:#fff;color:#000}*,:after,:before{box-sizing:border-box;margin:0;padding:0;font-family:inherit;line-height:inherit;color:inherit;vertical-align:top;text-underline-position:under}body{font-family:"Noto Sans KR",sans-serif;font-weight:400;font-size:16px;color:#000}ol,ul{list-style:none}table{width:100%;border-spacing:0;table-layout:fixed}td,th{text-align:center;vertical-align:middle}a{text-decoration:none}button,input[type=button],input[type=file],input[type=image],input[type=reset],input[type=submit]{border:none;border-radius:0;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}input:not([type]),input[type=date],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select,textarea{display:inline-block;width:100%;height:40px;font-size:16px;line-height:38px;color:#000;padding:0 10px;border:1px solid #ccc;background:#fff;box-shadow:none}input:not([type]):disabled,input[type=date]:disabled,input[type=datetime-local]:disabled,input[type=email]:disabled,input[type=month]:disabled,input[type=number]:disabled,input[type=password]:disabled,input[type=search]:disabled,input[type=tel]:disabled,input[type=text]:disabled,input[type=time]:disabled,input[type=url]:disabled,input[type=week]:disabled,select:disabled,textarea:disabled{background:#f7f7f7}input:not([type])::-moz-placeholder,input[type=date]::-moz-placeholder,input[type=datetime-local]::-moz-placeholder,input[type=email]::-moz-placeholder,input[type=month]::-moz-placeholder,input[type=number]::-moz-placeholder,input[type=password]::-moz-placeholder,input[type=search]::-moz-placeholder,input[type=tel]::-moz-placeholder,input[type=text]::-moz-placeholder,input[type=time]::-moz-placeholder,input[type=url]::-moz-placeholder,input[type=week]::-moz-placeholder,select::-moz-placeholder,textarea::-moz-placeholder{color:#999}input:not([type]):-ms-input-placeholder,input[type=date]:-ms-input-placeholder,input[type=datetime-local]:-ms-input-placeholder,input[type=email]:-ms-input-placeholder,input[type=month]:-ms-input-placeholder,input[type=number]:-ms-input-placeholder,input[type=password]:-ms-input-placeholder,input[type=search]:-ms-input-placeholder,input[type=tel]:-ms-input-placeholder,input[type=text]:-ms-input-placeholder,input[type=time]:-ms-input-placeholder,input[type=url]:-ms-input-placeholder,input[type=week]:-ms-input-placeholder,select:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#999}input:not([type])::placeholder,input[type=date]::placeholder,input[type=datetime-local]::placeholder,input[type=email]::placeholder,input[type=month]::placeholder,input[type=number]::placeholder,input[type=password]::placeholder,input[type=search]::placeholder,input[type=tel]::placeholder,input[type=text]::placeholder,input[type=time]::placeholder,input[type=url]::placeholder,input[type=week]::placeholder,select::placeholder,textarea::placeholder{color:#999}textarea{height:300px;padding:10px;line-height:1.5}input[type=number] ::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none}.hljs{display:block;overflow-x:auto;padding:.5em;background:#282b2e}.hljs-keyword,.hljs-literal,.hljs-selector-id,.hljs-selector-tag{color:#93c763}.hljs-number{color:#ffcd22}.hljs{color:#e0e2e4}.hljs-attribute{color:#668bb0}.hljs-class .hljs-title,.hljs-code,.hljs-section{color:#fff}.hljs-link,.hljs-regexp{color:#d39745}.hljs-meta{color:#557182}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-emphasis,.hljs-name,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-subst,.hljs-tag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable{color:#8cbbad}.hljs-string,.hljs-symbol{color:#ec7600}.hljs-comment,.hljs-deletion,.hljs-quote{color:#818e96}.hljs-selector-class{color:#a082bd}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-strong,.hljs-title,.hljs-type{font-weight:700}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#fff;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}#wrap[data-v-04d2cfbc]{position:relative;min-width:320px;min-height:100vh;padding:0 0 0 240px;background:#000;color:#fff}@media screen and (max-width:1200px){#wrap[data-v-04d2cfbc]{padding:50px 0 0}}.aside-wrap{position:fixed;top:0;left:0;width:240px;min-height:100%;background:#2c343e;padding:50px 12px}.aside-wrap .logo{margin-bottom:30px;padding:0 12px;text-align:center}.aside-wrap .logo a{display:block;font-weight:700;font-size:32px}.aside-wrap .btn_menu{display:none}@media screen and (max-width:1200px){.aside-wrap{display:flex;justify-content:space-between;align-items:center;width:100%;min-height:0;height:50px;padding:0 20px;z-index:100}.aside-wrap .logo{margin-bottom:0;padding:0}.aside-wrap .logo a{font-size:20px}.aside-wrap .btn_menu{display:block;position:relative;width:22px;height:24px;z-index:101}.aside-wrap .btn_menu:before{content:"";top:2px}.aside-wrap .btn_menu span,.aside-wrap .btn_menu:before{display:block;position:absolute;left:0;width:100%;height:3px;background:#fff;transition:all .3s}.aside-wrap .btn_menu span{text-indent:-9999em;top:10px}.aside-wrap .btn_menu:after{display:block;content:"";position:absolute;top:18px;left:0;width:100%;height:3px;background:#fff;transition:all .3s}.aside-wrap.open .btn_menu:before{top:7px;transform:rotate(45deg)}.aside-wrap.open .btn_menu span{opacity:0}.aside-wrap.open .btn_menu:after{top:7px;transform:rotate(-45deg)}}.aside-list{padding:20px 0}.aside-list ul{display:grid;padding-left:20px}.aside-list ul.depth-0{grid-row-gap:30px;row-gap:30px;font-size:24px}.aside-list ul.depth-0>li>a{font-weight:700;text-transform:uppercase}.aside-list ul.depth-1{margin-top:12px;grid-row-gap:12px;row-gap:12px;font-size:18px}.aside-list ul.depth-2{margin-top:8px;grid-row-gap:8px;row-gap:8px;font-size:12px}.aside-list ul li a{display:block;padding:0 1em;color:#999}.aside-list ul li a:hover{text-decoration:underline}.aside-list ul li.on>a{color:#fff}@media screen and (max-width:1200px){.aside-list{overflow:hidden;display:flex;position:fixed;top:0;right:0;left:0;height:0;padding:0;opacity:0;z-index:100;justify-content:center;align-items:center;text-align:center;background:rgba(0,0,0,.9)}.aside-list ul{padding-left:0}.open .aside-list{height:100vh;opacity:1;transition:opacity .3s}}.article_wrap[data-v-ce6ad306]{padding:50px 50px 100px;max-width:1000px}@media screen and (max-width:1200px){.article_wrap[data-v-ce6ad306]{padding:50px 20px}}.article-head[data-v-a498b346]{padding:0 0 30px;margin-bottom:50px;border-bottom:2px solid #ddd}.article-head h1[data-v-a498b346]{margin-bottom:30px;font-weight:700;font-size:32px}.article-head .info[data-v-a498b346]{display:flex;font-size:12px}.article-head .info .writer[data-v-a498b346]{margin-left:15px}.article-body{font-size:14px;line-height:1.8}.article-body hr{border-color:#666}.article-body p{margin:1em 0}.article-body a{color:#4fb9fe}.article-body a:hover{text-decoration:underline}.article-body h1{margin:1em 0}.article-body h2{margin:1em 0;font-weight:700;font-size:22px}.article-body h3{margin:1em 0;font-weight:700;font-size:16px}.article-body .terminal{display:inline-block;background:#222;margin:0 3px;padding:0 5px;border-radius:3px;color:#e4aa68}.article-body pre{margin:1.8em 0}.article-body pre .language-css .token.string,.article-body pre .style .token.string,.article-body pre .token.entity,.article-body pre .token.operator,.article-body pre .token.url{background:0 0}.article-body p{white-space:pre-wrap}.article-body li,.article-body p{word-break:keep-all}.article-body ul{margin-left:1.8em;margin-top:1.8em;margin-bottom:1.8em}.article-body ul li{list-style:circle}.article-body ul li:not(:first-child){margin-top:.2em}.article-body ol{margin-left:1.8em;margin-top:1.8em;margin-bottom:1.8em}.article-body ol li{list-style:decimal}.article-body ol li:not(:first-child){margin-top:.2em}.article-body blockquote{background:#1e1e1e;padding:1em;font-family:"Nanum Myeongjo";font-size:1em}.article-body blockquote p{margin:0;padding:.5em 1em;border-left:3px solid #fff}.nuxt-content-highlight{position:relative}.nuxt-content-highlight>.filename{position:absolute;top:5px;right:10px;color:#a8b4c2}:not(pre)>code{padding:.1em .3em;border-radius:.3em;color:#db4c69;background:#222}code[class*=language-],pre[class*=language-]{color:#d4d4d4;font-size:14px;text-shadow:none;font-family:Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#75a7ca}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#75a7ca}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:1.8em 0;overflow:auto;background:#1e1e1e}.namespace{opacity:.7}.token.doctype .token.doctype-tag{color:#569cd6}.token.doctype .token.name{color:#9cdcfe}.token.comment,.token.prolog{color:#6a9955}.language-html .language-css .token.punctuation,.language-html .language-javascript .token.punctuation,.token.punctuation{color:#d4d4d4}.token.boolean,.token.constant,.token.inserted,.token.number,.token.property,.token.symbol,.token.tag,.token.unit{color:#b5cea8}.token.attr-name,.token.builtin,.token.char,.token.deleted,.token.selector,.token.string{color:#ce9178}.language-css .token.string.url{text-decoration:underline}.token.entity,.token.operator{color:#d4d4d4}.token.operator.arrow{color:#569cd6}.token.atrule{color:#ce9178}.token.atrule .token.rule{color:#c586c0}.token.atrule .token.url{color:#9cdcfe}.token.atrule .token.url .token.function{color:#dcdcaa}.token.atrule .token.url .token.punctuation{color:#d4d4d4}.token.keyword{color:#569cd6}.token.keyword.control-flow,.token.keyword.module{color:#c586c0}.token.function,.token.function .token.maybe-class-name{color:#dcdcaa}.token.regex{color:#d16969}.token.important{color:#569cd6}.token.italic{font-style:italic}.token.constant{color:#9cdcfe}.token.class-name,.token.maybe-class-name{color:#4ec9b0}.token.console,.token.interpolation,.token.parameter{color:#9cdcfe}.token.boolean,.token.punctuation.interpolation-punctuation{color:#569cd6}.token.exports .token.maybe-class-name,.token.imports .token.maybe-class-name,.token.property,.token.variable{color:#9cdcfe}.token.escape,.token.selector{color:#d7ba7d}.token.tag{color:#569cd6}.token.cdata,.token.tag .token.punctuation{color:grey}.token.attr-name{color:#9cdcfe}.token.attr-value,.token.attr-value .token.punctuation{color:#ce9178}.token.attr-value .token.punctuation.attr-equals{color:#d4d4d4}.token.entity{color:#569cd6}.token.namespace{color:#4ec9b0}.token.script,code[class*=language-javascript],code[class*=language-jsx],code[class*=language-tsx],code[class*=language-typescript],pre[class*=language-javascript],pre[class*=language-jsx],pre[class*=language-tsx],pre[class*=language-typescript]{color:#9cdcfe}code[class*=language-css],pre[class*=language-css]{color:#ce9178}code[class*=language-html],pre[class*=language-html]{color:#d4d4d4}.language-regex .token.anchor{color:#dcdcaa}.language-html .token.punctuation{color:grey}pre[data-line]{position:relative}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#f7ebc6;box-shadow:inset 5px 0 0 #f7d87c;z-index:0;pointer-events:none;line-height:inherit;white-space:pre}table{border-collapse:collapse;margin:1.8em 0}table thead tr th{border:1px solid #eee;background:#222;padding:3px}table tbody tr th{background:#f7f7f7;padding:3px}table tbody tr td{border:1px solid #eee;padding:3px}</style><link rel="preload" href="/_nuxt/static/1651107603/blog/tech_react_2021-04-07/state.js" as="script"><link rel="preload" href="/_nuxt/static/1651107603/blog/tech_react_2021-04-07/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1651107603/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="wrap" data-v-04d2cfbc><div class="aside-wrap" data-v-04d2cfbc><h1 class="logo"><a href="/" class="nuxt-link-active">SIMPLIZM</a></h1> <button type="button" class="btn_menu"><span>메뉴열기</span></button> <nav data-fetch-key="0" class="aside-list"><ul class="depth-0"><li><a href="/blog?category=life">life</a> <ul class="depth-1"><li><a href="/blog?category=life_place">place</a> <!----></li></ul></li><li class="on"><a href="/blog?category=tech">tech</a> <ul class="depth-1"><li><a href="/blog?category=tech_javascript">javascript</a> <!----></li><li class="on"><a href="/blog?category=tech_react">react</a> <!----></li><li><a href="/blog?category=tech_vue">vue</a> <!----></li></ul></li></ul></nav></div> <div id="container" data-v-04d2cfbc><div class="article_wrap" data-v-ce6ad306 data-v-04d2cfbc><!----> <section class="article-head" data-v-a498b346 data-v-ce6ad306><h1 data-v-a498b346 data-v-ce6ad306>[React] State 끌어올리기</h1> <div class="info" data-v-a498b346 data-v-ce6ad306><div class="date" data-v-a498b346 data-v-ce6ad306>작성일 : 2021-04-07</div> <div class="writer" data-v-a498b346 data-v-ce6ad306>작성자 : 신용준</div></div></section> <section class="article-body" data-v-ce6ad306><div class="nuxt-content" data-v-ce6ad306><p data-v-ce6ad306>종종 동일한 데이터에 대한 변경사항을 여러 컴포넌트에 반영해야 할 필요가 있습니다. 이럴 때는 가장 가까운 공통 조상으로 state를 끌어올리는 것이 좋습니다. 이런 일을 어떻게 할 수 있을지 지금부터 살펴봅시다.</p>
<p data-v-ce6ad306>이번 섹션에서는 주어진 온도에서 물의 끓는 여부를 추정하는 온도 계산기를 만들어볼 것입니다.</p>
<p data-v-ce6ad306>먼저 <em data-v-ce6ad306>BoilingVerdict</em>라는 이름의 컴포넌트부터 만들어봅시다. 이 컴포넌트는 섭씨온도를 의미하는 <em data-v-ce6ad306>celsius</em> prop을 받아서 이 온도가 물이 끓기에 충분한지 여부를 출력합니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>function</span> <span class="token function" data-v-ce6ad306><span class="token maybe-class-name" data-v-ce6ad306>BoilingVerdict</span></span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token keyword control-flow" data-v-ce6ad306>if</span> <span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>celsius</span> <span class="token operator" data-v-ce6ad306>>=</span> <span class="token number" data-v-ce6ad306>100</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token operator" data-v-ce6ad306>&lt;</span>p<span class="token operator" data-v-ce6ad306>></span><span class="token maybe-class-name" data-v-ce6ad306>The</span> water would boil<span class="token punctuation" data-v-ce6ad306>.</span><span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>p<span class="token operator" data-v-ce6ad306>></span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
  <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token operator" data-v-ce6ad306>&lt;</span>p<span class="token operator" data-v-ce6ad306>></span><span class="token maybe-class-name" data-v-ce6ad306>The</span> water would not boil<span class="token punctuation" data-v-ce6ad306>.</span><span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>p<span class="token operator" data-v-ce6ad306>></span><span class="token punctuation" data-v-ce6ad306>;</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>그 다음으로 Calculator라는 컴포넌트를 만들어보겠습니다. 이 컴포넌트는 온도를 입력할 수 있는 <em data-v-ce6ad306>input</em>을 렌더링하고 그 값을 this.state.temperature에 저장합니다.</p>
<p data-v-ce6ad306>또한 현재 입력값에 대한 <em data-v-ce6ad306>BoilingVerdict</em> 컴포넌트를 렌더링합니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>Calculator</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>constructor</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>super</span><span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>''</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>e</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>setState</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> e<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>target</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>value</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>const</span> temperature <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>
      <span class="token operator" data-v-ce6ad306>&lt;</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>legend<span class="token operator" data-v-ce6ad306>></span><span class="token maybe-class-name" data-v-ce6ad306>Enter</span> temperature <span class="token keyword" data-v-ce6ad306>in</span> <span class="token maybe-class-name" data-v-ce6ad306>Celsius</span><span class="token operator" data-v-ce6ad306>:</span><span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>legend<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>input
          value<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token punctuation" data-v-ce6ad306>}</span>
          onChange<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>BoilingVerdict</span>
          celsius<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token function" data-v-ce6ad306>parseFloat</span><span class="token punctuation" data-v-ce6ad306>(</span>temperature<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
      <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
    <span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<h2 id="두-번째-input-추가하기" data-v-ce6ad306><a href="#%EB%91%90-%EB%B2%88%EC%A7%B8-input-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" aria-hidden="true" tabindex="-1" data-v-ce6ad306><span class="icon icon-link" data-v-ce6ad306></span></a>두 번째 Input 추가하기</h2>
<p data-v-ce6ad306>새 요구사항으로써 섭씨 입력 필드뿐만 아니라 화씨 입력 필드를 추가하고 두 필드 간에 동기화 상태를 유지하도록 해보겠습니다.</p>
<p data-v-ce6ad306><em data-v-ce6ad306>Calculator</em>에서 <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트를 빼내는 작업부터 시작해봅시다. 또한 "c"또는 "f"의 값을 가질 수 있는 <em data-v-ce6ad306>scale</em> prop을 추가할 것입니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>const</span> scaleNames <span class="token operator" data-v-ce6ad306>=</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  c<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'Celsius'</span><span class="token punctuation" data-v-ce6ad306>,</span>
  f<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'Fahrenheit'</span>
<span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>;</span>

<span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>TemperatureInput</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>constructor</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>super</span><span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>''</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>e</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>setState</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> e<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>target</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>value</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>)</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>const</span> temperature <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>const</span> scale <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>scale</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>
      <span class="token operator" data-v-ce6ad306>&lt;</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>legend<span class="token operator" data-v-ce6ad306>></span><span class="token maybe-class-name" data-v-ce6ad306>Enter</span> temperature <span class="token keyword" data-v-ce6ad306>in</span> <span class="token punctuation" data-v-ce6ad306>{</span>scaleNames<span class="token punctuation" data-v-ce6ad306>[</span>scale<span class="token punctuation" data-v-ce6ad306>]</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token operator" data-v-ce6ad306>:</span><span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>legend<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>input value<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token punctuation" data-v-ce6ad306>}</span>
          onChange<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
      <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
    <span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이제 <em data-v-ce6ad306>Calculator</em>가 분리된 두 개의 온도 입력 필드를 렌더링하도록 변경할 수 있습니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>Calculator</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>
      <span class="token operator" data-v-ce6ad306>&lt;</span>div<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>TemperatureInput</span> scale<span class="token operator" data-v-ce6ad306>=</span><span class="token string" data-v-ce6ad306>"c"</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>TemperatureInput</span> scale<span class="token operator" data-v-ce6ad306>=</span><span class="token string" data-v-ce6ad306>"f"</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
      <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>div<span class="token operator" data-v-ce6ad306>></span>
    <span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이제 두 개의 입력 필드를 갖게 되었습니다. 그러나 둘 중 하나의 온도를 입력하더라도 다른 하나는 갱신되지 않는 문제가 있습니다. 이것은 두 입력 필드 간에 동기화 상태를 유지하고자 했던 원래 요구사항과는 맞지 않습니다.</p>
<p data-v-ce6ad306>또한 <em data-v-ce6ad306>Calculator</em>에서 <em data-v-ce6ad306>BoilingVerdict</em>도 역시 보여줄 수 없는 상황입니다. 현재 입력된 온도 정보가 <em data-v-ce6ad306>TemperatureInput</em> 안에 숨겨져 있으므로 <em data-v-ce6ad306>Calculator</em>는 그 값을 알 수 없기 때문입니다.</p>
<h2 id="변환-함수-작성하기" data-v-ce6ad306><a href="#%EB%B3%80%ED%99%98-%ED%95%A8%EC%88%98-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-hidden="true" tabindex="-1" data-v-ce6ad306><span class="icon icon-link" data-v-ce6ad306></span></a>변환 함수 작성하기</h2>
<p data-v-ce6ad306>먼저, 섭씨를 화씨로, 또는 그 반대로 변환해주는 함수를 작성해보겠습니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>function</span> <span class="token function" data-v-ce6ad306>toCelsius</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>fahrenheit</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>fahrenheit <span class="token operator" data-v-ce6ad306>-</span> <span class="token number" data-v-ce6ad306>32</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token operator" data-v-ce6ad306>*</span> <span class="token number" data-v-ce6ad306>5</span> <span class="token operator" data-v-ce6ad306>/</span> <span class="token number" data-v-ce6ad306>9</span><span class="token punctuation" data-v-ce6ad306>;</span>
<span class="token punctuation" data-v-ce6ad306>}</span>

<span class="token keyword" data-v-ce6ad306>function</span> <span class="token function" data-v-ce6ad306>toFahrenheit</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>celsius</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>celsius <span class="token operator" data-v-ce6ad306>*</span> <span class="token number" data-v-ce6ad306>9</span> <span class="token operator" data-v-ce6ad306>/</span> <span class="token number" data-v-ce6ad306>5</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token operator" data-v-ce6ad306>+</span> <span class="token number" data-v-ce6ad306>32</span><span class="token punctuation" data-v-ce6ad306>;</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이 두 함수는 숫자를 변환합니다. 이제 <em data-v-ce6ad306>temperature</em> 문자열과 변환 함수를 인수로 취해서 문자열을 반환하는 또 다른 함수를 작성해보겠습니다. 그리고 그것을 한 입력값에 기반해 나머지 입력값을 계산하는 용도로 사용할 것입니다.</p>
<p data-v-ce6ad306>이 함수는 올바르지 않은 <em data-v-ce6ad306>temperature</em> 값에 대해서는 빈 문자열을 반환하고 값을 소수점 세 번째 자리로 반올림하여 출력합니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>function</span> <span class="token function" data-v-ce6ad306>tryConvert</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>temperature<span class="token punctuation" data-v-ce6ad306>,</span> convert</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token keyword" data-v-ce6ad306>const</span> input <span class="token operator" data-v-ce6ad306>=</span> <span class="token function" data-v-ce6ad306>parseFloat</span><span class="token punctuation" data-v-ce6ad306>(</span>temperature<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token keyword control-flow" data-v-ce6ad306>if</span> <span class="token punctuation" data-v-ce6ad306>(</span><span class="token known-class-name class-name" data-v-ce6ad306>Number</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>isNaN</span><span class="token punctuation" data-v-ce6ad306>(</span>input<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token string" data-v-ce6ad306>''</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
  <span class="token keyword" data-v-ce6ad306>const</span> output <span class="token operator" data-v-ce6ad306>=</span> <span class="token function" data-v-ce6ad306>convert</span><span class="token punctuation" data-v-ce6ad306>(</span>input<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token keyword" data-v-ce6ad306>const</span> rounded <span class="token operator" data-v-ce6ad306>=</span> <span class="token known-class-name class-name" data-v-ce6ad306>Math</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>round</span><span class="token punctuation" data-v-ce6ad306>(</span>output <span class="token operator" data-v-ce6ad306>*</span> <span class="token number" data-v-ce6ad306>1000</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token operator" data-v-ce6ad306>/</span> <span class="token number" data-v-ce6ad306>1000</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token keyword control-flow" data-v-ce6ad306>return</span> rounded<span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>toString</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>예를 들어 tryConvert('abc', toCelsius)는 빈 문자열을 반환하고 tryConvert('10.22', toFahrenheit)는 '50.396'을 반환합니다.</p>
<h2 id="state-끌어올리기" data-v-ce6ad306><a href="#state-%EB%81%8C%EC%96%B4%EC%98%AC%EB%A6%AC%EA%B8%B0" aria-hidden="true" tabindex="-1" data-v-ce6ad306><span class="icon icon-link" data-v-ce6ad306></span></a>State 끌어올리기</h2>
<p data-v-ce6ad306>현재는 두 <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트가 각각의 입력값을 각자의 state에 독립적으로 저장하고 있습니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>TemperatureInput</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>constructor</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>super</span><span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>''</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>e</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>setState</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> e<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>target</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>value</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
  
  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>const</span> temperature <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token comment" data-v-ce6ad306>// ...</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>그러나 우리는 두 입력값이 서로의 것과 동기화된 상태로 있길 원합니다. 섭씨온도 입력값을 변경할 경우 화씨온도 입력값 역시 변환된 온도를 반영할 수 있어야 하며, 그 반대의 경우에도 마찬가지여야 합니다.</p>
<p data-v-ce6ad306>React에서 state를 공유하는 일은 그 값을 필요로 하는 컴포넌트 간의 가장 가까운 공통 조상으로 state를 끌어올림으로써 이뤄낼 수 있습니다. 이렇게 하는 방법을 "state 끌어올리기"(lifting state up)라고 부릅니다. 이제 <em data-v-ce6ad306>TemperatureInput</em>이 개별적으로 가지고 있던 지역 state를 지우는 대신 <em data-v-ce6ad306>Calculator</em>로 그 값을 옮겨놓을 것입니다.</p>
<p data-v-ce6ad306><em data-v-ce6ad306>Calculator</em>가 공유될 state를 소유하고 있으면 이 컴포넌트는 두 입력 필드의 현재 온도에 대한 "진리의 원천(source of truth)"이 됩니다. 이를 통해 두 입력 필드가 서로 간에 일관된 값을 유지하도록 만들 수 있습니다. 두 <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트의 props가 같은 부모인 <em data-v-ce6ad306>Calculator</em>로부터 전달되기 때문에, 두 입력 필드는 항상 동기화된 상태를 유지할 수 있게 됩니다.</p>
<p data-v-ce6ad306>어떻게 동작하는지 차근차근 살펴봅시다.</p>
<p data-v-ce6ad306>우선, <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트에서 <em data-v-ce6ad306>this.state.temperature</em>를 <em data-v-ce6ad306>this.props.TemperatureInput</em>로 대체할 것입니다. 지금은 <em data-v-ce6ad306>this.props.TemperatureInput</em>가 이미 존재한다고 가정해봅시다. 나중에는 이 값을 <em data-v-ce6ad306>Calculator</em>로부터 건네야 할 것입니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token comment" data-v-ce6ad306>// Before: const temperature = this.state.TemperatureInput;</span>
  <span class="token keyword" data-v-ce6ad306>const</span> temperatureInput <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperatureInput</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token comment" data-v-ce6ad306>// ...</span>
</code></pre></div>
<p data-v-ce6ad306>props는 읽기 전용입니다. <em data-v-ce6ad306>temperature</em>가 지역 state였을 때는 그 값을 변경하기 위해서 그저 <em data-v-ce6ad306>TemperatureInput</em>의 *this.setState()*를 호출하는 걸로 충분했습니다. 그러나 이제 <em data-v-ce6ad306>temperature</em>가 부모로부터 prop으로 전달되기 때문에 <em data-v-ce6ad306>TemperatureInput</em>은 그 값을 제어할 능력이 없습니다.</p>
<p data-v-ce6ad306>React에서는 보통 이 문제를 컴포넌트를 "제어"가능하게 만드는 방식으로 해결합니다. DOM *&lt;input>*이 <em data-v-ce6ad306>value</em>와 <em data-v-ce6ad306>onChange</em> prop를 건네받는 것과 비슷한 방식으로, 사용자 정의된 <em data-v-ce6ad306>TemperatureInput</em> 역시 <em data-v-ce6ad306>temperature</em>와 <em data-v-ce6ad306>onTemperatureChange</em> props를 자신의 부모인 <em data-v-ce6ad306>Calculator</em>로부터 건네받을 수 있습니다.</p>
<p data-v-ce6ad306>이제 <em data-v-ce6ad306>TemperatureInput</em>에서 온도를 갱신하고 싶으면 <em data-v-ce6ad306>this.props.onTemperatureChange</em>를 호출하면 됩니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token function" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>e</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token comment" data-v-ce6ad306>// Before: this.setState({temperature: e.target.value});</span>
  <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>onTemperatureChange</span><span class="token punctuation" data-v-ce6ad306>(</span>e<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>target</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>value</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token comment" data-v-ce6ad306>// ...</span>
</code></pre></div>
<blockquote data-v-ce6ad306>
<p data-v-ce6ad306>주의</p>
</blockquote>
<p data-v-ce6ad306>사용자 정의 컴포넌트에서 temperature와 onTemperatureChange prop의 이름이 특별한 의미를 갖진 않습니다. 일관된 컨벤션으로 value와 onChange을 사용할 수도 있으며, 여러분이 원하는 그 어떤 이름이든지 사용할 수 있습니다.</p>
<p data-v-ce6ad306><em data-v-ce6ad306>onTemperatureChange</em> prop는 부모 컴포넌트인 <em data-v-ce6ad306>Calculator</em>로 부터 <em data-v-ce6ad306>temperature</em> prop와 함께 제공될 것입니다. 이를 이용해 자신의 지역 state를 수정해서 변경사항을 처리하므로, 변경된 새 값을 전달받은 두 입력 필드는 모두 리렌더링될 것입니다. <em data-v-ce6ad306>Calculator</em>의 새로운 구현체는 조금 뒤에 살펴보겠습니다.</p>
<p data-v-ce6ad306><em data-v-ce6ad306>Calculator</em>의 변경사항을 들여다보기 전에 <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트에 대한 변경사항부터 요약해보겠습니다. 이 컴포넌트의 지역 state를 제거했으며 <em data-v-ce6ad306>this.state.temperature</em> 대신에 <em data-v-ce6ad306>this.props.temperature</em>를 읽어오도록 변경했습니다. state를 변경하고 싶을 경우 <em data-v-ce6ad306>this.setState()</em> 대신에 <em data-v-ce6ad306>Calculator</em>로부터 건네받은 *this.props.onTemperatureChange()*를 호출하도록 만들었습니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>TemperatureInpuit</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>constructor</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>super</span><span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>e</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>onTemperatureChange</span><span class="token punctuation" data-v-ce6ad306>(</span>e<span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>target</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>value</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>const</span> temperature <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>const</span> scale <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>scale</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>
      <span class="token operator" data-v-ce6ad306>&lt;</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>legend<span class="token operator" data-v-ce6ad306>></span><span class="token maybe-class-name" data-v-ce6ad306>Enter</span> temperature <span class="token keyword" data-v-ce6ad306>in</span> <span class="token punctuation" data-v-ce6ad306>{</span>scaleNames<span class="token punctuation" data-v-ce6ad306>[</span>scale<span class="token punctuation" data-v-ce6ad306>]</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token operator" data-v-ce6ad306>:</span><span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>legend<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span>input value<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token punctuation" data-v-ce6ad306>}</span>
          onChange<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleChange</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
      <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>fieldset<span class="token operator" data-v-ce6ad306>></span>
    <span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이제 다시 Calculator 컴포넌트로 와 봅시다.</p>
<p data-v-ce6ad306><em data-v-ce6ad306>temperature</em>와 <em data-v-ce6ad306>scale</em>의 현재 입력값을 이 컴포넌트의 지역 state에 저장합니다. 이것은 우리가 입력 필드로부터 "끌어올린" state이며 그들에 대한 "진리의 원천(source of truth)"으로 작용할 것입니다. 또한 두 입력 필드를 렌더링하기 위해서 알아야 하는 모든 데이터를 최소한으로 표현한 것이기도 합니다.</p>
<p data-v-ce6ad306>예를 들어서 섭씨 입력 필드에 37을 입력하면 Calculator 컴포넌트의 state는 다음과 같을 것입니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token punctuation" data-v-ce6ad306>{</span>
  teperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'37'</span><span class="token punctuation" data-v-ce6ad306>,</span>
  scale<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'c'</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이후에 화씨 입력 필드의 값을 212로 수정하면 <em data-v-ce6ad306>Calculator</em>의 state는 다음과 같은 모습일 것입니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token punctuation" data-v-ce6ad306>{</span>
  temperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'212'</span><span class="token punctuation" data-v-ce6ad306>,</span>
  scale<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'f'</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>두 입력 필드에 모두 값을 저장하는 일도 가능했지만 결국은 불필요한 작업이었던 것입니다. 가장 최근에 변경된 입력값과 그 값이 나타내는 단위를 저장하는 것만으로도 충분합니다. 그러고 나면 현재의 <em data-v-ce6ad306>temperature</em>와 <em data-v-ce6ad306>scale</em>에 기반해 다른 입력 필드의 값을 추론할 수 있습니다.</p>
<p data-v-ce6ad306>두 입력 필드의 값이 동일한 state로부터 계산되기 때문에 이 둘은 항상 동기화된 상태를 유지하게 됩니다.</p>
<div class="nuxt-content-highlight" data-v-ce6ad306><pre class="language-js line-numbers" data-v-ce6ad306><code data-v-ce6ad306><span class="token keyword" data-v-ce6ad306>class</span> <span class="token class-name" data-v-ce6ad306>Calculator</span> <span class="token keyword" data-v-ce6ad306>extends</span> <span class="token class-name" data-v-ce6ad306>React<span class="token punctuation" data-v-ce6ad306>.</span>Component</span> <span class="token punctuation" data-v-ce6ad306>{</span>
  <span class="token function" data-v-ce6ad306>constructor</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>props</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>super</span><span class="token punctuation" data-v-ce6ad306>(</span>props<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleCelsiusChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleCelsiusChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleFahrenheitChange</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>handleFahrenheitChange</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>bind</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span> <span class="token operator" data-v-ce6ad306>=</span> <span class="token punctuation" data-v-ce6ad306>{</span>temperature<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>''</span><span class="token punctuation" data-v-ce6ad306>,</span> scale<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'c'</span><span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleCelsiusChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>setState</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>{</span>scale<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'c'</span><span class="token punctuation" data-v-ce6ad306>,</span> temperature<span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>handleFahrenheitChange</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token parameter" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token method function property-access" data-v-ce6ad306>setState</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>{</span>scale<span class="token operator" data-v-ce6ad306>:</span> <span class="token string" data-v-ce6ad306>'f'</span><span class="token punctuation" data-v-ce6ad306>,</span> temperature<span class="token punctuation" data-v-ce6ad306>}</span><span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>

  <span class="token function" data-v-ce6ad306>render</span><span class="token punctuation" data-v-ce6ad306>(</span><span class="token punctuation" data-v-ce6ad306>)</span> <span class="token punctuation" data-v-ce6ad306>{</span>
    <span class="token keyword" data-v-ce6ad306>const</span> scale <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>scale</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>const</span> temperature <span class="token operator" data-v-ce6ad306>=</span> <span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>state</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>temperature</span><span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>const</span> celsius <span class="token operator" data-v-ce6ad306>=</span> scale <span class="token operator" data-v-ce6ad306>===</span> <span class="token string" data-v-ce6ad306>'f'</span> <span class="token operator" data-v-ce6ad306>?</span> <span class="token function" data-v-ce6ad306>tryConvert</span><span class="token punctuation" data-v-ce6ad306>(</span>temperature<span class="token punctuation" data-v-ce6ad306>,</span> toCelsius<span class="token punctuation" data-v-ce6ad306>)</span> <span class="token operator" data-v-ce6ad306>:</span> temperature<span class="token punctuation" data-v-ce6ad306>;</span>
    <span class="token keyword" data-v-ce6ad306>const</span> fahrenheit <span class="token operator" data-v-ce6ad306>=</span> scale <span class="token operator" data-v-ce6ad306>===</span> <span class="token string" data-v-ce6ad306>'c'</span> <span class="token operator" data-v-ce6ad306>?</span> <span class="token function" data-v-ce6ad306>tryConvert</span><span class="token punctuation" data-v-ce6ad306>(</span>temperature<span class="token punctuation" data-v-ce6ad306>,</span> toFahrenheit<span class="token punctuation" data-v-ce6ad306>)</span> <span class="token operator" data-v-ce6ad306>:</span> temperature<span class="token punctuation" data-v-ce6ad306>;</span>

    <span class="token keyword control-flow" data-v-ce6ad306>return</span> <span class="token punctuation" data-v-ce6ad306>(</span>
      <span class="token operator" data-v-ce6ad306>&lt;</span>div<span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>TemperatureInput</span>
          scale<span class="token operator" data-v-ce6ad306>=</span><span class="token string" data-v-ce6ad306>"c"</span>
          temperature<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span>celsius<span class="token punctuation" data-v-ce6ad306>}</span>
          onTemperatureChange<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleCelsiusChange</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>TemperatureInput</span>
          scale<span class="token operator" data-v-ce6ad306>=</span><span class="token string" data-v-ce6ad306>"f"</span>
          temperature<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span>fahrenheit<span class="token punctuation" data-v-ce6ad306>}</span>
          onTemperatureChange<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token keyword" data-v-ce6ad306>this</span><span class="token punctuation" data-v-ce6ad306>.</span><span class="token property-access" data-v-ce6ad306>handleFahrenheitChange</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
        <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token maybe-class-name" data-v-ce6ad306>BoilingVerdict</span>
          celsius<span class="token operator" data-v-ce6ad306>=</span><span class="token punctuation" data-v-ce6ad306>{</span><span class="token function" data-v-ce6ad306>parseFloat</span><span class="token punctuation" data-v-ce6ad306>(</span>celsius<span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>}</span> <span class="token operator" data-v-ce6ad306>/</span><span class="token operator" data-v-ce6ad306>></span>
      <span class="token operator" data-v-ce6ad306>&lt;</span><span class="token operator" data-v-ce6ad306>/</span>div<span class="token operator" data-v-ce6ad306>></span>
    <span class="token punctuation" data-v-ce6ad306>)</span><span class="token punctuation" data-v-ce6ad306>;</span>
  <span class="token punctuation" data-v-ce6ad306>}</span>
<span class="token punctuation" data-v-ce6ad306>}</span>
</code></pre></div>
<p data-v-ce6ad306>이제 어떤 입력 필드를 수정하든 간에 <em data-v-ce6ad306>Calculator</em>의 <em data-v-ce6ad306>this.state.temperature</em>와 <em data-v-ce6ad306>this.state.scale</em>이 갱신됩니다. 입력 필드 중 하나는 있는 그대로의 값을 받으므로 사용자가 입력한 값이 보존되고, 다른 입력 필드의 값은 항상 다른 하나에 기반해 재계산됩니다.</p>
<p data-v-ce6ad306>입력값을 변경할 때 일어나는 일들을 정리해보겠습니다.</p>
<ul data-v-ce6ad306>
<li data-v-ce6ad306>React는 DOM *&lt;input>*의 <em data-v-ce6ad306>onChange</em>에 지정된 함수를 호출합니다. 위 예시의 경우 <em data-v-ce6ad306>TemperatureInput</em>의 <em data-v-ce6ad306>handleChange</em> 메서드에 해당합니다.</li>
<li data-v-ce6ad306><em data-v-ce6ad306>TemperatureInput</em> 컴포넌트의 <em data-v-ce6ad306>handleChange</em> 메서드는 새로 입력된 값과 함께 <em data-v-ce6ad306>this.props.onTemperatureChange()</em> 를 호출합니다. <em data-v-ce6ad306>onTemperatureChange</em>를 포함한 이 컴포넌트의 props는 부모 컴포넌트인 <em data-v-ce6ad306>Calculator</em>로부터 제공받은 것입니다.</li>
<li data-v-ce6ad306>이전 렌더링 단계에서, <em data-v-ce6ad306>Calculator</em>는 섭씨 <em data-v-ce6ad306>TemperatureInput</em>의 <em data-v-ce6ad306>onTemperatureChange</em>를 <em data-v-ce6ad306>Calculator</em>의 <em data-v-ce6ad306>handleCelsiusChange</em> 메서드로, 화씨 <em data-v-ce6ad306>TemperatureInput</em>의 <em data-v-ce6ad306>onTemperatureChange</em>를 <em data-v-ce6ad306>Calculator</em>의 <em data-v-ce6ad306>handleFahrenheitChange</em> 메서드로 지정해놓았습니다. 따라서 우리가 둘 중에 어떤 입력 필드를 수정하느냐에 따라서 <em data-v-ce6ad306>Calculator</em>의 두 메서드 중 하나가 호출됩니다.</li>
<li data-v-ce6ad306>이들 메서드는 내부적으로 <em data-v-ce6ad306>Calculator</em> 컴포넌트가 새 입력값, 그리고 현재 수정한 입력 필드의 입력 단위와 함께 *this.setState()*를 호출하게 함으로써 React에게 자신을 다시 렌더링하도록 요청합니다.</li>
<li data-v-ce6ad306>React는 UI가 어떻게 보여야 하는지 알아내기 위해 <em data-v-ce6ad306>Calculator</em> 컴포넌트의 <em data-v-ce6ad306>render</em> 메서드를 호출합니다. 두 입력 필드의 값은 현재 온도와 활성화된 단위를 기반으로 재계산됩니다. 온도의 변환이 이 단계에서 수행됩니다.</li>
<li data-v-ce6ad306>React는 <em data-v-ce6ad306>Calculator</em>가 전달한 새 props와 함께 각 <em data-v-ce6ad306>TemperatureInput</em> 컴포넌트의 <em data-v-ce6ad306>render</em> 메서드를 호출합니다. 그러면서 UI가 어떻게 보여야 할지를 파악합니다.</li>
<li data-v-ce6ad306>React는 <em data-v-ce6ad306>BoilingVerdict</em> 컴포넌트에게 섭씨온도를 props로 건네면서 그 컴포넌트의 render 메서드를 호출합니다.</li>
<li data-v-ce6ad306>React DOM은 물의 끓는 여부와 올바른 입력값을 일치시키는 작업과 함께 DOM을 갱신합니다. 값을 변경한 입력 필드는 현재 입력값을 그대로 받고, 다른 입력 필드는 변환된 온도 값으로 갱신됩니다.</li>
</ul>
<p data-v-ce6ad306>입력 필드의 값을 변경할 때마다 동일한 절차를 거치고 두 입력 필드는 동기화된 상태로 유지됩니다.</p>
<h2 id="교훈" data-v-ce6ad306><a href="#%EA%B5%90%ED%9B%88" aria-hidden="true" tabindex="-1" data-v-ce6ad306><span class="icon icon-link" data-v-ce6ad306></span></a>교훈</h2>
<p data-v-ce6ad306>React 애플리케이션 안에서 변경이 일어나는 데이터에 대해서는 "진리의 원천(source of truth)"을 하나만 두어야 합니다. 보통의 경우, state는 렌더링에 그 값을 필요로 하는 컴포넌트에 먼저 추가됩니다. 그러고 나서 다른 컴포넌트도 역시 그 값이 필요하게 되면 그 값을 그들의 가장 가까운 공통 조상으로 끌어올리면 됩니다. 다른 컴포넌트 간에 존재하는 state를 동기화시키려고 노력하는 대신 하향식 데이터 흐름에 기대는 걸 추천합니다.</p>
<p data-v-ce6ad306>state를 끌어올리는 작업은 양방향 바인딩 접근 방식보다 더 많은 "보일러 플레이트" 코드를 유발하지만, 버그를 찾고 격리하기 더 쉽게 만든다는 장점이 있습니다. 어떤 state든 간에 특정 컴포넌트 안에서 존재하기 마련이고 그 컴포넌트가 자신의 state를 스스로 변경할 수 있으므로 버그가 존재할 수 있는 범위가 크게 줄어듭니다. 또한 사용자의 입력을 거부하거나 변형하는 자체로직을 구현할 수도 있습니다.</p>
<p data-v-ce6ad306>어떤 값이 props 또는 state로부터 계산될 수 있다면, 아마도 그 값을 state에 두어서는 안 됩니다. 예를 들어 <em data-v-ce6ad306>celsiusValue</em>와 <em data-v-ce6ad306>fahrenheitValue</em>를 둘 다 저장하는 대신, 단지 최근에 변경된 <em data-v-ce6ad306>temperature</em>와 <em data-v-ce6ad306>scale</em>만 저장하면 됩니다. 다른 입력 필드의 값은 항상 그 값들에 기반해서 <em data-v-ce6ad306>render()</em> 메서드 안에서 계산될 수 있습니다. 이를 통해 사용자 입력값의 정밀도를 유지한 채 다른 필드의 입력값에 반올림을 지우거나 적용할 수 있게 됩니다.</p>
<p data-v-ce6ad306>UI에서 무언가 잘못된 부분이 있을 경우, React Developer Tools를 이용하여 props를 검사하고 state를 갱신할 책임이 있는 컴포넌트를 찾을 때까지 트리를 따라 탐색해보세요. 이렇게 함으로써 소스 코드에서 버그를 추적할 수 있습니다.</p>
<p data-v-ce6ad306><img alt="" src="https://ko.reactjs.org/ef94afc3447d75cdc245c77efb0d63be/react-devtools-state.gif" data-v-ce6ad306></p>
<br data-v-ce6ad306>
<p data-v-ce6ad306>출처 : <a href="https://reactjs.org/docs/lifting-state-up.html" rel="nofollow noopener noreferrer" target="_blank" data-v-ce6ad306>https://reactjs.org/docs/lifting-state-up.html</a></p></div></section></div></div> <!----></div></div></div><script defer src="/_nuxt/static/1651107603/blog/tech_react_2021-04-07/state.js"></script><script src="/_nuxt/0b41bc5.js" defer></script><script src="/_nuxt/4f613c0.js" defer></script><script src="/_nuxt/0bb7f8f.js" defer></script><script src="/_nuxt/472c0a8.js" defer></script><script src="/_nuxt/3a27982.js" defer></script>
  </body>
</html>
